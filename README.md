# Signal Monitoring - Документация проекта

## 1. Обзор проекта

### 1.1 Цель
Разработка веб-приложения для мониторинга производственного процесса с использованием эмулируемых IoT-датчиков.

### 1.2 Описание
Система предназначена для отслеживания и анализа показаний датчиков в реальном времени, позволяя операторам быстро реагировать на аномалии и отклонения. Прототип эмулирует работу реальных промышленных IoT-датчиков и позволяет визуализировать полученные данные.

### 1.3 Основные возможности
- Эмуляция данных с различных типов датчиков
- Визуализация текущих показаний
- Отображение истории изменений в виде графиков
- Настройка пороговых значений для оповещений
- Обнаружение аномалий и отправка предупреждений

## 2. Архитектура системы

### 2.1 Общая схема
Система состоит из двух основных компонентов:
1. **Генератор данных** - эмулирует работу IoT-датчиков
2. **Веб-интерфейс на Streamlit** - отображает и анализирует данные

### 2.2 Технический стек
- **Язык программирования:** Python 3.8+
- **Инструменты разработки:**
  - Генератор данных: стандартные библиотеки Python, threading
  - Веб-интерфейс: Streamlit
  - Визуализация: Plotly, Altair
  - Хранение данных: JSON/CSV файлы

## 3. Спецификация компонентов

### 3.1 Генератор данных

#### 3.1.1 Типы эмулируемых датчиков
- Температура (°C)
- Влажность (%)
- Давление (кПа)
- Вибрация (Гц)
- Уровень шума (дБ)
- Потребление энергии (кВт·ч)

#### 3.1.2 Формат данных
Каждое сообщение генерируется в формате JSON:

```json
{
  "device_id": "sensor_type_XX",
  "type": "sensor_type",
  "value": 00.0,
  "unit": "unit_of_measurement",
  "timestamp": 1684137652,
  "status": "normal|warning|critical"
}
```

#### 3.1.3 Алгоритм генерации данных
- Базовые значения для каждого типа датчика
- Естественные колебания в пределах нормы (гауссовое распределение)
- Периодические тренды (например, суточные колебания температуры)
- Случайные аномалии с настраиваемой вероятностью
- Возможность ручного внесения аномалий для тестирования

#### 3.1.4 Хранение данных
- Запись в JSON или CSV файлы с дискретизацией (например, каждые 5 секунд)
- Ротация файлов журналов для управления объемом хранимых данных

### 3.2 Веб-интерфейс Streamlit

#### 3.2.1 Главная панель мониторинга
- Отображение текущих значений всех датчиков в виде индикаторов
- Цветовая индикация статуса (норма, предупреждение, критическое)
- Время последнего обновления данных

#### 3.2.2 Визуализация данных
- Графики изменения показаний во времени
- Возможность выбора временного интервала (последний час, день, неделя)
- Сравнение показаний разных датчиков на одном графике
- Отметка аномалий и превышения пороговых значений

#### 3.2.3 Настройки мониторинга
- Установка пороговых значений для каждого типа датчика
- Настройка частоты обновления данных
- Включение/отключение оповещений

#### 3.2.4 Оповещения
- Визуальные предупреждения в интерфейсе
- Журнал оповещений с временем и описанием

## 4. Сценарии использования

### 4.1 Базовый мониторинг
1. Оператор открывает веб-интерфейс
2. Система отображает текущие показания всех датчиков
3. Данные автоматически обновляются каждые N секунд
4. При отклонении показаний за пределы нормы интерфейс выделяет соответствующий индикатор

### 4.2 Анализ тенденций
1. Оператор выбирает конкретный датчик и временной интервал
2. Система отображает график изменения показаний
3. Оператор анализирует тенденции и выявляет закономерности

### 4.3 Реагирование на аномалии
1. Система обнаруживает аномальное показание датчика
2. На интерфейсе появляется предупреждение
3. Оператор просматривает детали аномалии
4. Система предлагает возможные причины и рекомендации по устранению

## 5. Планируемые улучшения для продакшн-версии

### 5.1 Интеграция с реальными датчиками
- Поддержка промышленных протоколов (Modbus, OPC UA, MQTT)
- Настройка подключения к физическим устройствам

### 5.2 Расширение функциональности
- Машинное обучение для предиктивной аналитики
- Автоматические отчеты и экспорт данных
- Мобильные уведомления

### 5.3 Масштабирование
- Интеграция с базами данных временных рядов (InfluxDB, TimescaleDB)
- Горизонтальное масштабирование для поддержки сотен/тысяч датчиков
- Интеграция с существующими системами SCADA

## 6. Реализация прототипа

### 6.1 План разработки
1. Создание генератора данных с эмуляцией нескольких типов датчиков
2. Разработка базового интерфейса Streamlit для отображения данных
3. Реализация визуализации исторических данных
4. Добавление системы оповещений
5. Тестирование и отладка

### 6.2 Критерии успеха прототипа
- Стабильная генерация и отображение данных
- Корректная работа визуализации и графиков
- Своевременное обнаружение и оповещение о аномалиях
- Производительность, достаточная для обновления в реальном времени
